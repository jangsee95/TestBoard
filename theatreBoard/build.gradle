// build.gradle

// 사용할 플러그인들을 정의합니다.
plugins {
    id 'java' // 자바 프로젝트임을 명시
    id 'war'  // 웹 애플리케이션(.war)으로 빌드하도록 설정
}

// 프로젝트의 그룹 이름과 버전
group = 'com.example'
version = '0.0.1-SNAPSHOT'

// 자바 컴파일러 버전을 17로 설정
java {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

// 라이브러리를 다운로드할 저장소를 지정합니다. (Maven Central)
repositories {
    mavenCentral()
}

// 프로젝트에 필요한 라이브러리(의존성) 목록
dependencies {
    // 서블릿 API (Tomcat이 제공하지만, 컴파일 시 필요하므로 providedCompile)
    providedCompile 'jakarta.servlet:jakarta.servlet-api:6.0.0'

    // JSTL (JSP에서 c:if 등을 사용하기 위해 필요)
    implementation 'jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:3.0.0'
    implementation 'org.glassfish.web:jakarta.servlet.jsp.jstl:3.0.1'

    // PostgreSQL JDBC 드라이버
    implementation 'org.postgresql:postgresql:42.7.3'

    // 비밀번호 암호화를 위한 jbcrypt 라이브러리
    implementation 'org.mindrot:jbcrypt:0.4'
}

// 빌드 시 인코딩을 UTF-8로 설정
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}