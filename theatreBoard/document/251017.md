# theatreBoard

## ğŸ“– í”„ë¡œì íŠ¸ ì†Œê°œ

`theatreBoard`ëŠ” Java Servlet/JSP ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ì ê´€ë¦¬, ê²Œì‹œíŒ, ì—°ê·¹ ì •ë³´ ì¡°íšŒ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©°, MVC(Model-View-Controller) ì•„í‚¤í…ì²˜ íŒ¨í„´ì„ ë”°ë¦…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ì‚¬ìš©ì ê´€ë¦¬**
  - íšŒì›ê°€ì… ë° ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
  - íšŒì›ì •ë³´ ìˆ˜ì • ë° ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
  - íšŒì› íƒˆí‡´

- **ê²Œì‹œíŒ**
  - ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ, ìƒì„¸ ì¡°íšŒ
  - ê²Œì‹œê¸€ ì‘ì„±, ìˆ˜ì •, ì‚­ì œ

- **ì—°ê·¹ ì •ë³´**
  - ì—°ê·¹ ëª©ë¡ ì¡°íšŒ

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Backend**: Java, Jakarta Servlet, JSP, JSTL
- **Database**: PostgreSQL
- **Build Tool**: Gradle
- **Password Hashing**: jBCrypt
- **Web Server**: Tomcat

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
theatreBoard/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”œâ”€â”€ board/      # ê²Œì‹œíŒ (Controller, Service, DAO, DTO)
â”‚   â”‚   â”œâ”€â”€ common/     # ê³µí†µ ëª¨ë“ˆ (DBUtil, Error Handling)
â”‚   â”‚   â”œâ”€â”€ exception/  # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ theatre/    # ì—°ê·¹ ì •ë³´ (Controller, Service, DAO, DTO)
â”‚   â”‚   â””â”€â”€ user/       # ì‚¬ìš©ì (Controller, Service, DAO, DTO)
â”‚   â””â”€â”€ webapp/
â”‚       â”œâ”€â”€ WEB-INF/
â”‚       â”‚   â”œâ”€â”€ lib/
â”‚       â”‚   â””â”€â”€ view/   # JSP ë·° íŒŒì¼
â”‚       â””â”€â”€ index.jsp
â”œâ”€â”€ build.gradle        # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ë° ë¹Œë“œ ì„¤ì •
â””â”€â”€ README.md
```

## âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

ì´ í”„ë¡œì íŠ¸ëŠ” PostgreSQLì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì•„ë˜ DDLì„ ì°¸ê³ í•˜ì—¬ í…Œì´ë¸”ì„ ìƒì„±í•´ì£¼ì„¸ìš”.

**Users Table:**
```sql
CREATE TABLE users (
    user_id VARCHAR(50) PRIMARY KEY,
    password VARCHAR(100) NOT NULL, -- jBCryptë¡œ í•´ì‹±ëœ ë¹„ë°€ë²ˆí˜¸
    user_name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    reg_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Board Table:**
```sql
CREATE TABLE board (
    board_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT,
    author_id VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (author_id) REFERENCES users(user_id) ON DELETE CASCADE
);
```

**Theatre Table:**
```sql
CREATE TABLE theatre (
    theatre_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    genre VARCHAR(100),
    play_time INT,
    poster_uri VARCHAR(255),
    performance_date_time TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 2. DB ì—°ê²° ì •ë³´ ìˆ˜ì •

`src/main/java/common/util/DBUtil.java` íŒŒì¼ì—ì„œ ë³¸ì¸ì˜ PostgreSQL í™˜ê²½ì— ë§ê²Œ ì—°ê²° ì •ë³´ë¥¼ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.

```java
// DBUtil.java
private static final String URL = "jdbc:postgresql://localhost:5432/your_database";
private static final String USER = "your_username";
private static final String PASSWORD = "your_password";
```

### 3. ë¹Œë“œ ë° ì‹¤í–‰

1.  **í”„ë¡œì íŠ¸ ë¹Œë“œ**:
    í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ `.war` íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤.
    ```bash
    ./gradlew build
    ```

2.  **Tomcat ë°°í¬**:
    ìƒì„±ëœ `build/libs/theatreBoard-0.0.1-SNAPSHOT.war` íŒŒì¼ì„ Tomcatì˜ `webapps` ë””ë ‰í† ë¦¬ì— ë°°í¬í•©ë‹ˆë‹¤.

3.  **ì„œë²„ ì‹¤í–‰**:
    Tomcat ì„œë²„ë¥¼ ì‹œì‘í•˜ê³ , ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8080/theatreBoard-0.0.1-SNAPSHOT/` ì£¼ì†Œë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

## ğŸŒ URL ê°€ì´ë“œ

ê° ê¸°ëŠ¥ì€ ì„œë¸”ë¦¿ì˜ `act` íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ í˜¸ì¶œë©ë‹ˆë‹¤.

- **ì‚¬ìš©ì ê´€ë ¨**: `/user?act={action}`
  - `loginForm`, `joinForm`, `myPage`, `logout` ë“±
- **ê²Œì‹œíŒ ê´€ë ¨**: `/board?act={action}`
  - `list`, `view`, `writeForm`, `write`, `updateForm`, `update`, `remove`
- **ì—°ê·¹ ì •ë³´ ê´€ë ¨**: `/theatre?act={action}`
  - `list`